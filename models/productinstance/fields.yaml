# ===================================
#  Form Field Definitions
# ===================================

fields:
    product:
        label: acornassociated.lojistiks::lang.models.product.label
        type: relation
        comment: create new <a target="_blank" href="/backend/acornassociated/lojistiks/computerproduct/create">computer product</a> | <a target="_blank" href="/backend/acornassociated/lojistiks/electronicproduct/create">electronic product</a> | <a target="_blank" href="/backend/acornassociated/lojistiks/product/create">product</a>
        commentHtml: true
        span: auto
        nameFrom: full_name
    product[measurement_unit]:
        label: acornassociated.lojistiks::lang.models.measurementunit.label
        comment: <a target="_blank" href="/backend/acornassociated/lojistiks/product">edit the products</a> to change this
        commentHtml: true
        type: dropdown
        options: AcornAssociated\Lojistiks\Models\MeasurementUnit::dropdownOptions
        span: auto
        disabled: true
        dependsOn:
          - product
    product[measurement_unit][uses_quantity]:
        label: acornassociated.lojistiks::lang.models.measurementunit.uses_quantity
        comment: <a target="_blank" href="/backend/acornassociated/lojistiks/product">edit the products</a> to change this
        commentHtml: true
        type: text
        span: auto
        disabled: true
        dependsOn:
          - product[measurement_unit]
    quantity:
        label: acornassociated.lojistiks::lang.models.productinstance.quantity
        type: number
        default: 1
        span: auto
        trigger:
          action: hide
          field: product[measurement_unit][uses_quantity]
          condition: value[1]
    external_identifier:
        label: acornassociated.lojistiks::lang.models.product.external_identifier
        type: text
        span: auto
    asset_class:
        label: acornassociated.lojistiks::lang.models.product.asset_class
        type: radio
        default: F
        options:
            F: Fixed
            C: Current
        span: auto
    _qrcode:
        type: partial
        context: update
        path: ~/plugins/acornassociated/lojistiks/_qrcode
        span: auto

    # Initial Transfer afterCreate()
    transfer:
        type: section
    _source_location:
        label: Supplier
        type: dropdown
        options: AcornAssociated\Lojistiks\Models\Location::dropdownOptions
        nameFrom: fully_qualified_name
        context: create
        span: auto
    _destination_location:
        label: Initial Location
        type: dropdown
        options: AcornAssociated\Lojistiks\Models\Location::dropdownOptions
        nameFrom: fully_qualified_name
        context: create
        span: auto

tabs:
    fields:
      initial_transfer_product_instance[transfer][source_location][fully_qualified_name]:
          label: Supplier
          type: text
          readOnly: true
          disabled: true
          context: update
          tab: Creation
      initial_transfer_product_instance[transfer][destination_location][fully_qualified_name]:
          label: Initial Location
          type: text
          readOnly: true
          disabled: true
          context: update
          tab: Creation
      transfer_product_instances:
          type: relation
          nameFrom: transfer_full_name
          readOnly: true
          disabled: true
          context: update
          tab: Transfers
