# ===================================
#  Form Field Definitions
# ===================================

fields:
    product:
        label: acorn.lojistiks::lang.models.product.label
        type: relation
        comment: create new <a target="_blank" href="/backend/acorn/lojistiks/computerproduct/create">computer product</a> | <a target="_blank" href="/backend/acorn/lojistiks/electronicproduct/create">electronic product</a> | <a target="_blank" href="/backend/acorn/lojistiks/product/create">product</a>
        commentHtml: true
        placeholder: Select
        span: auto
        nameFrom: full_name
    product[measurement_unit]:
        label: acorn.lojistiks::lang.models.measurementunit.label
        comment: <a target="_blank" href="/backend/acorn/lojistiks/product">edit the products</a> to change this
        commentHtml: true
        type: dropdown
        options: Acorn\Lojistiks\Models\MeasurementUnit::dropdownOptions
        span: auto
        placeholder: Select a product
        disabled: true
        dependsOn:
          - product
    #uses_quantity:
        #label: acorn.lojistiks::lang.models.measurementunit.uses_quantity
        #type: checkbox
        #default: false
        #span: auto
        #dependsOn:
          #- product[measurement_unit]
    quantity:
        label: acorn.lojistiks::lang.models.productinstance.quantity
        type: number
        comment: Only relevant for <a target="_blank" href="/backend/acorn/lojistiks/product">products</a> with <a target="_blank" href="/backend/acorn/lojistiks/measurementunits">measurement units</a> that use quantity, like Litres
        commentHtml: true
        default: 1
        span: auto
        dependsOn:
          - product[measurement_unit]
    external_identifier:
        label: acorn.lojistiks::lang.models.product.external_identifier
        type: text
        span: auto
        dependsOn:
          - product[measurement_unit]
    asset_class:
        label: acorn.lojistiks::lang.models.product.asset_class
        type: radio
        default: F
        options:
            F: Fixed
            C: Current
        span: auto
        comment: A Fixed asset is something long-term that the company uses like a laptop. Current assets are the company's products, temporary things that the company buys and sells, like oil
    _qrcode:
        type: partial
        context: update
        path: ~/plugins/acorn/lojistiks/_qrcode
        span: auto

    # Initial Transfer afterCreate()
    transfer:
        type: section
    _source_location:
        label: Supplier
        type: dropdown
        options: Acorn\Lojistiks\Models\Location::dropdownOptions
        nameFrom: fully_qualified_name
        context: create
        span: auto
        comment: create new <a target="_blank" href="/backend/acorn/lojistiks/supplier/create">supplier</a> | <a target="_blank" href="/backend/acorn/lojistiks/office/create">office</a> | <a target="_blank" href="/backend/acorn/lojistiks/warehouse/create">warehouse</a>
        commentHtml: true
    _destination_location:
        label: Initial Location
        type: dropdown
        options: Acorn\Lojistiks\Models\Location::dropdownOptions
        nameFrom: fully_qualified_name
        context: create
        span: auto
        comment: create new <a target="_blank" href="/backend/acorn/lojistiks/office/create">office</a> | <a target="_blank" href="/backend/acorn/lojistiks/warehouse/create">warehouse</a>
        commentHtml: true

tabs:
    fields:
      initial_transfer_product_instance[transfer][source_location][fully_qualified_name]:
          label: acorn.lojistiks::lang.models.supplier.label
          type: text
          readOnly: true
          disabled: true
          context: update
          tab: acorn.lojistiks::lang.models.location.initial_location
      initial_transfer_product_instance[transfer][destination_location][fully_qualified_name]:
          label: acorn.lojistiks::lang.models.location.initial_location
          type: text
          readOnly: true
          disabled: true
          context: update
          tab: acorn.lojistiks::lang.models.location.initial_location
      #transfers:
      product_instance_transfer:
          type: relation
          #nameFrom: full_name
          nameFrom: transfer_full_name
          readOnly: true
          disabled: true
          context: update
          #containerAttributes:
            # TODO: goto-form-group-selection: ../../transfer
          tab: acorn.lojistiks::lang.models.transfer.label_plural
