fields:
    location[name]:
        label: acorn.lojistiks::lang.models.general.name
        type: text
        span: auto
    #location[image]:
        #label: acorn.lojistiks::lang.models.general.image
        #type: mediafinder
        #mode: image
        #useCaption: true
        #imageHeight: 150
        #imageWidth: 150
        #thumbOptions:
            #mode: crop
            #extension: auto
        #span: auto
    # -------------------------------- Existing Address
    _select_an_existing_address:
        label: Select an existing Address
        type: switch
        span: left
        context: create
    location[address]:
        type: dropdown
        options: Acorn\Lojistiks\Models\Address::dropdownOptions
        nameFrom: fully_qualified_name
        span: left
        trigger:
            field: _select_an_existing_address
            condition: checked
            action: enable
        context: create
    # -------------------------------- New Address
    location[address][name]:
        label: acorn.lojistiks::lang.models.address.label
        type: text
        span: auto
        trigger:
            field: _select_an_existing_address
            condition: checked
            action: disable
    location[address][number]:
        label: Number
        type: text
        span: auto
        trigger:
            field: _select_an_existing_address
            condition: checked
            action: disable
    location[address][area]:
        label: acorn.lojistiks::lang.models.area.label
        type: dropdown
        options: Acorn\Lojistiks\Models\Area::dropdownOptions
        placeholder: Select
        span: auto
        trigger:
            field: _select_an_existing_address
            condition: checked
            action: disable
    location[address][gps][longitude]:
        label: longitude
        type: number
        span: auto
        trigger:
            field: _select_an_existing_address
            condition: checked
            action: disable
    location[address][gps][latitude]:
        label: latitude
        type: number
        span: auto
        trigger:
            field: _select_an_existing_address
            condition: checked
            action: disable
    _qrcode:
        type: partial
        context: update
        path: ~/plugins/acorn/lojistiks/_qrcode

# --------------------------------------- Context Update
tabs:
  fields:
    location[transfers_in]:
        type: relation
        context: update
        nameFrom: source_name
        cssClass: selected-only
        tab: Transfers In
    location[transfers_out]:
        type: relation
        context: update
        nameFrom: destination_name
        cssClass: selected-only
        tab: Transfers Out
    location[stock_products]:
        type: relation
        context: update
        nameFrom: fully_qualified_name
        cssClass: selected-only
        # TODO: stock_products is a non-automatically updateable view due to its group-by
        disabled: true
        tab: Stock Products
    location[employees]:
        type: relation
        context: update
        nameFrom: employment
        cssClass: selected-only
        tab: Employees
