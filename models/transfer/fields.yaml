# ===================================
#  Form Field Definitions
# ===================================

fields:
    qrcode_scan:
        type: partial
        path: ~/plugins/acorn/lojistiks/_qrcode_scan
        span: right
        context:
          - update
          - create
    _qrcode_large:
        type: partial
        context: preview
        span: right
        size: 196
        path: ~/plugins/acorn/lojistiks/_qrcode
    source_location:
        label: acorn.lojistiks::lang.models.transfer.source_location
        type: relation
        span: left
        comment: create new <a target="_blank" href="../../warehouse/create">warehouse</a> | <a target="_blank" href="../../office/create">office</a> | <a target="_blank" href="../../supplier/create">supplier</a> <a target="_blank" href="../../location" class="goto-form-group-selection"></a>
        commentHtml: true
        nameFrom: fully_qualified_name
        required: true
        placeholder: acorn.lojistiks::lang.models.general.select
        dependsOn:
            - qrcode_scan
    destination_location:
        label: acorn.lojistiks::lang.models.transfer.destination_location
        type: relation
        span: left
        required: true
        placeholder: acorn.lojistiks::lang.models.general.select
        comment: create new <a target="_blank" href="../warehouse/create">warehouse</a> | <a target="_blank" href="../office/create">office</a> <a target="_blank" href="../../location" class="goto-form-group-selection"></a>
        commentHtml: true
        nameFrom: fully_qualified_name
        dependsOn:
            - qrcode_scan
    vehicle:
        label: acorn.lojistiks::lang.models.vehicle.label
        type: relation
        span: left
        select: registration
        placeholder: acorn.lojistiks::lang.models.general.select
        comment: create new <a target="_blank" href="../vehicle/create">vehicle</a> | <a target="_blank" href="../driver/create">driver</a> <a target="_blank" href="../../vehicle" class="goto-form-group-selection"></a>
        commentHtml: true
        dependsOn:
            - qrcode_scan
    driver:
        label: acorn.lojistiks::lang.models.driver.label
        type: relation
        span: left
        comment: <a target="_blank" href="../../driver" class="goto-form-group-selection"></a>
        commentHtml: true
        placeholder: acorn.lojistiks::lang.models.general.select
        dependsOn:
            - qrcode_scan
    sent_at:
        label: acorn.lojistiks::lang.models.transfer.sent_at
        type: datepicker
        span: left
    arrived_at:
        label: acorn.lojistiks::lang.models.transfer.arrived_at
        type: datepicker
        span: right
        context: update


    # TODO: _product_instance:
        #label: Add stock to transfer
        #type: dropdown
        #options: Acorn\Lojistiks\Models\ProductInstance::dropdownOptions
        #context:
          #- create
          #- update
        #comment: create new <a target="_blank" href="../computerproduct/create">computer product</a> | <a target="_blank" href="../electronicproduct/create">electronic product</a>
        #commentHtml: true
        #span: left
        #dependsOn:
          #- source_location
    pi_section:
        label: Product Instances in the transfer
        type: section
        context: preview
    product_instances:
        type: relation
        nameFrom: name
        cssClass: selected-only
        dependsOn:
            - qrcode_scan
        comment: scan products to add to the list
    _qrcode_small:
        type: partial
        context: update
        path: ~/plugins/acorn/lojistiks/_qrcode
